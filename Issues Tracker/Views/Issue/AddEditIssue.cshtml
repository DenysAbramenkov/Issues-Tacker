@model Issues_Tracker.Models.IssueView

    <form id="editForm">    

        @Html.HiddenFor(model => model.Issue.Id)

        <div class="container">

            <div class="row">
                <div class="col-md-2">
                    <a href="#" id="btnSubmit" class="btn btn-primary">Save</a>
                </div>
                <div class="col-md-3">
                    <select class="form-control">
                        <option>New</option>
                        <option>Update</option>
                    </select>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-md-9">
                    <p class="font-weight-bold">Project</p>
                    @Html.DropDownListFor(model => Model.Issue.ProjectId, Model.Projects, new { @class = "form-control", @style = "max-width:none" })
                </div>
                <div class="col-md-3">
                    <p class="font-weight-bold">Number</p>
                    @Html.EditorFor(model => model.Issue.Number, new { htmlAttributes = new { @class = "form-control", @style = "max-width:none", @readonly = "readonly" } })
                </div>
            </div>

                
                <br />

                <p class="font-weight-bold">Summary</p>
                @Html.EditorFor(model => model.Issue.Summary, new { htmlAttributes = new { @class = "form-control", @style = "max-width:none" } })
                <br />

                <p class="font-weight-bold">Descriprion</p>
                @Html.EditorFor(model => model.Issue.Descripton, new { htmlAttributes = new { @class = "form-control", @style = "max-width:none" } })
                <br />


            <div class="container">

                <div class="row">
                    <div class="col-md-4">
                        <p class="font-weight-bold">State</p>
                    </div>
                    <div class="col-md-4">
                        <p class="font-weight-bold">Priorite</p>
                    </div>

                    <div class="col-md-4">
                        <p class="font-weight-bold">Asignee</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                       @Html.DropDownListFor(model => model.Issue.StateId, Model.States, new { @class = "form-control", @style = "max-width:none" })
                    </div>
                    <div class="col-md-4">
                        @Html.DropDownListFor(model => model.Issue.PriorityId, Model.Priorityes, new { @class = "form-control", @style = "max-width:none" })
                    </div>

                    <div class="col-md-4">
                        @Html.DropDownListFor(model => model.Issue.AssigneeId, Model.Asignee, new { @class = "form-control", @style = "max-width:none" })
                    </div>
                </div>


            </div>
</form>


<script>

    $(document).ready(function () {

        $("#btnSubmit").click(function () {

            var issueData = $("#editForm").serialize();

            $.ajax({

                type: "POST",
                url: "/Issue/Index",
                data: issueData,
                success: function () {
                    $("#editModal").modal("hide");
                    window.location.href = "/Issue/Index";
                }

            })
        })
    })
</script>
