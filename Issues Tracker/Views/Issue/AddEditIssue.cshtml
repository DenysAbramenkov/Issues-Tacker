@model Issues_Tracker.Models.IssueView

<div>
    <form id="editForm">    

        @Html.HiddenFor(model => model.Issue.Id)

        <p class="font-weight-bold">Project</p>
        @Html.DropDownListFor(model => Model.Issue.ProjectId , Model.Projects, new { @class = "form-control" })
        <br />


            <p class="font-weight-bold">Number</p>
            @Html.EditorFor(model => model.Issue.Number, new { htmlAttributes = new { @class = "form-control" } })
            <br />

            <p class="font-weight-bold">Summary</p>
            @Html.EditorFor(model => model.Issue.Summary, new { htmlAttributes = new { @class = "form-control" } })
            <br />

            <p class="font-weight-bold">Descriprion</p>
            @Html.EditorFor(model => model.Issue.Descripton, new { htmlAttributes = new { @class = "form-control" } })
            <br />

            <p class="font-weight-bold">State</p>
            @Html.DropDownListFor(model => model.Issue.StateId, Model.States, new { @class = "form-control" })
            <br />

            <p class="font-weight-bold">Priorite</p>
            @Html.DropDownListFor(model => model.Issue.PriorityId, Model.Priorityes, new { @class = "form-control" })
            <br />

            <p class="font-weight-bold">Asignee</p>
            @Html.DropDownListFor(model => model.Issue.AssigneeId, Model.Asignee, new { @class = "form-control" })
            <br />

            <a href="#" id="btnSubmit" class="btn btn-success btn-block">Save</a>
</form>
</div>


<script>

    $(document).ready(function () {

        $("#btnSubmit").click(function () {

            var issueData = $("#editForm").serialize();

            $.ajax({

                type: "POST",
                url: "/Issue/Index",
                data: issueData,
                success: function () {
                    $("#editModal").modal("hide");
                    window.location.href = "/Issue/Index";
                }

            })
        })
    })
</script>
